# Automotive-Project
Technical case study analyzing my 5VZ-FE Toyota Engine rebuild. 

A while back I purchased a used truck that was not in the best shape with intention of restoring and repairing operational components (excluding cosmetic repairs) in order to prepare it to be my daily driver. It is a 1st gen Toyota Tacoma and when I purchased it it was running poorly, had fluid leaks, had the notorious P0171 engine code, and needed some suspension work. Despite having essentially rebuilt half the engine which included a cylinder head service and valve job, replacing head gaskets, timing belt and water pump, and reassembling everything, the greatest and most frustrating problem was diagnosing the P0171 engine code which I will spend the majority of the time discussing as it is the most technical and most interesting part of the project. 

My first order of business was to get the large maintenance items out of the way. I removed the cylinder heads following official Toyota maintenance literature. I took the heads to a machine shop to have them fully service which included inspection, cleaning, resurfacing, and valve job. I then reassembled the engine replacing the timing belt, water pump and other suggested components along the way. When I finished everything the engine was immediately running way better than it was before, however, the P0171 code was still present. Now I needed to tackle this issue. 

The P0171 code indicates that there is a lean condition in the air-fuel mixture. In other words, there is either too much air going into the air-fuel mixture, or there is too little fuel going into the air-fuel mixture, and sometimes both options may be the case. The difficulty is that the code does not indicate exactly what is causing it. Therefore, you must use critical thinking and data analysis to first actually figure out the root cause. 

Before understanding how to diagnose the root cause, we have to understand how the engine detects and regulates the air-fuel ratio. The stoichiometric air to fuel in a gasoline combustion engine is 14.7 to 1. The two key ways that the engine measures the combustion mixture is through the mass airflow sensor and the oxygen sensors. The mass airflow sensor determines how much air is entering the engine for combustion. The oxygen sensor(s) measure how much oxygen is left after combustion in the exhaust system which can be used to indicate if the combustion mixture was too rich or too lean. These two sensors send information to the ECU and the ECU interprets this information and can then adjust the amount of fuel that is injected into the mixture. The engine sends fuel trim information to tell us how much more or less fuel is being added to account for a messed up A/F ratio.
